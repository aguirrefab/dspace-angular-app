<ng-container *ngIf="communitiesRD$ | async as communitiesRD">
  <div *ngIf="communitiesRD?.hasSucceeded">
    <div class="list-communities">
      <ds-viewable-collection
        [config]="config"
        [sortConfig]="sortConfig"
        [objects]="communitiesRD$ | async"
        [hideGear]="true"
        [hidePaginationDetail]="true"
        [showPaginator]="false"
        [showThumbnails]="true"
      >
      </ds-viewable-collection>
    </div>

    <div class="grid-communities">
      <ul   *ngFor="let community of communitiesRD.payload.page">
    
                <li>
                  <div class="community-card">
                    <a href="{{ community.metadata['dc.identifier.uri'][0]?.value }}">
                      <h3>{{ community._name }}</h3>
                    </a>
                    <img src="{{ community._links.logo.href }}" alt="{{ community._name }}" />
                    <!-- Community logo -->
                    <div class="dso-logo mb-3">
                      <img [src]="community._links.logo.href" class="img-fluid" [attr.alt]="alternateText ? alternateText : null"
                        (error)="errorHandler($event)" />
                    </div>

                  </div>
                </li>
            
      </ul>
    </div>
  </div>
  <ds-error
    *ngIf="communitiesRD?.hasFailed"
    message="{{ 'error.top-level-communites' | translate }}"
  ></ds-error>
  <ds-themed-loading
    *ngIf="communitiesRD?.isLoading"
    message="{{ 'loading.top-level-communities' | translate }}"
  ></ds-themed-loading>
</ng-container>
